import{aQ as u,r as b,am as f,ah as w,bb as i,bc as j,ao as y,aj as o,j as e,bd as t,be as v,bf as N,N as F}from"./index-Dq6x1obF.js";import{u as S,c as k,b as n}from"./index.esm-BTVOpGtT.js";import{a as c,I as l,b as d,F as m}from"./InputLabel-DV1Dl-od.js";var C={prefix:"fab",iconName:"facebook-f",icon:[320,512,[],"f39e","M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"]};const L=()=>{const h=u(),[r,p]=b.useState(!1),s=S({initialValues:{email:"",password:""},validationSchema:k().shape({email:n().email("This field has to be email").required("Email cannot be empty"),password:n().required("Password cannot be empty").min(6,"Min is 6 characters").max(12,"Max is 12 characters").matches(f.password,"Password must contain at least 1 digit, 1 special character, 1 alphabetic character")}),onSubmit:async g=>{try{const a=await w.post("/api/auth/signin",g);i(j,a.data.content.token),i(y,a.data.content.user.id),o("Đã đăng nhập thành công!",{icon:"success"}),h("/")}catch(a){console.log(a),o("Đăng nhập thất bại!",{icon:"error"})}}}),x=()=>{p(!r)};return e.jsxs("div",{className:"login-form-container",children:[e.jsx("h1",{className:"login-header text-center mb-4",children:"Login"}),e.jsxs("form",{onSubmit:s.handleSubmit,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"",children:"Welcome to AriBB"}),e.jsxs(c,{variant:"standard",className:"mui-form-control",margin:"dense",fullWidth:!0,error:!!s.errors.email,children:[e.jsx(l,{htmlFor:"my-input-email",children:"Email"}),e.jsx(d,{id:"my-input-email","aria-describedby":"my-helper-text",...s.getFieldProps("email")}),s.touched.email&&s.errors.email?e.jsx(m,{id:"my-helper-text",children:s.errors.email}):e.jsx(e.Fragment,{})]})]}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"password-input-container",children:[e.jsxs(c,{variant:"standard",className:"mui-form-control",margin:"dense",fullWidth:!0,error:!!s.errors.password,children:[e.jsx(l,{htmlFor:"my-input-password",children:"Mật khẩu"}),e.jsx(d,{id:"my-input-password",type:r?"text":"password","aria-describedby":"my-helper-text",...s.getFieldProps("password")}),s.touched.password&&s.errors.password?e.jsx(m,{id:"my-helper-text",children:s.errors.password}):e.jsx(e.Fragment,{})]}),e.jsx(t,{icon:r?v:N,className:"password-toggle-icon",onClick:x})]})}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Login"})]}),e.jsx("div",{className:"or-divider",children:e.jsx("span",{className:"or-divider-text",children:"Or login with"})}),e.jsxs("div",{className:"social-login-container",children:[e.jsxs("button",{className:"btn-face",onClick:()=>window.location.href="https://www.facebook.com/",children:[e.jsx(t,{icon:C,style:{fontSize:"20px",marginRight:"10px",paddingBottom:"1px"}}),"Facebook"]}),e.jsxs("button",{className:"btn-google",onClick:()=>window.location.href="https://accounts.google.com/v3/signin/identifier?continue=https%3A%2F%2Fwww.google.com%2F&ec=GAZAmgQ&hl=vi&ifkv=AaSxoQxhOlZXfuvVCrgLfc8fsyAXKT8_YdnDl9Pp2dyeCjBU_y4ylQ-9QBtMk0AGzR8oVUCQDKUPvg&passive=true&flowName=GlifWebSignIn&flowEntry=ServiceLogin&dsh=S1627563663%3A1715317667382273&ddm=0",children:[e.jsx("span",{className:"google-icon"}),"Google"]})]}),e.jsxs("div",{className:"signup-container",children:["Not a member?",e.jsx(F,{to:"/auth/register",className:"signup-link",children:" Sign up now"})]})]})};export{L as default};
